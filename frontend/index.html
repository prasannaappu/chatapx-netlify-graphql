<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Chatapx • AI Chatbot</title>
    <meta name="description" content="A lightweight AI chatbot demo with a serverless backend on Netlify." />
    <style>
      :root{
        --bg:#0b1020; --bg2:#0f152b; --card:#141b34; --muted:#9aa3b2;
        --text:#e8ecf3; --accent:#6ea8fe; --accent-2:#8bd0ff;
        --ring:rgba(110,168,254,.35); --shadow: 0 10px 30px rgba(0,0,0,.25);
        --radius: 18px;
      }
      *{ box-sizing:border-box } html,body{ height:100% }
      body{
        margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
        background: radial-gradient(1200px 800px at 10% 0%, #14204a 0%, #0b1020 55%), var(--bg);
        color:var(--text);
      }
      .wrap{ min-height:100dvh; display:grid; place-items:center; padding:28px 16px; }
      .card{
        width:min(980px,100%);
        background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.0)) , var(--card);
        border:1px solid rgba(255,255,255,.06);
        box-shadow: var(--shadow);
        border-radius: calc(var(--radius) + 6px);
        padding:0; overflow:hidden; position:relative;
      }
      .header{
        display:flex; align-items:center; gap:12px;
        padding:18px 20px;
        border-bottom:1px solid rgba(255,255,255,.06);
        background: linear-gradient(120deg, rgba(110,168,254,.15), rgba(139,208,255,.08) 60%, transparent 100%);
      }
      .logo{
        width:36px; height:36px; flex:none;
        border-radius:10px; display:grid; place-items:center;
        background: linear-gradient(135deg, var(--accent), var(--accent-2));
        color:#071225; font-weight:700;
        box-shadow: 0 6px 18px rgba(110,168,254,.45);
      }
      h1{ font-size:18px; margin:0 } .sub{ font-size:13px; color:var(--muted) }
      .history{
        height:min(64vh, 540px);
        overflow:auto; padding:18px;
        display:flex; flex-direction:column; gap:10px;
        scroll-behavior:smooth;
        background:linear-gradient(180deg, rgba(255,255,255,.02), transparent 120%);
      }
      .row{ display:flex; gap:8px; padding:16px; border-top:1px solid rgba(255,255,255,.06); background:var(--bg2) }
      .input{
        flex:1; min-height:44px; max-height:140px; resize:vertical; padding:11px 14px;
        border:1px solid rgba(255,255,255,.1); border-radius:14px; background:#0e1530; color:var(--text);
        outline:none; box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
      }
      .input:focus{ border-color: var(--accent); box-shadow: 0 0 0 4px var(--ring) }
      .btn{
        padding:11px 18px; border-radius:14px; border:1px solid rgba(255,255,255,.12);
        background: linear-gradient(135deg, var(--accent), var(--accent-2)); color:#051224; font-weight:600; cursor:pointer;
      }
      .btn[disabled]{ opacity:.6; cursor:not-allowed }
      .bubble{
        max-width:78%;
        padding:12px 14px; border-radius:16px; line-height:1.45;
        border:1px solid rgba(255,255,255,.06); box-shadow: 0 6px 16px rgba(0,0,0,.15);
      }
      .me{ align-self:flex-end; background:#0e2a5a; border-color:rgba(110,168,254,.25) }
      .bot{ align-self:flex-start; background:#0f1330 }
      .meta{ display:flex; align-items:center; gap:10px; color:var(--muted); font-size:12px; margin:4px 2px }
      .footer-note{ text-align:center; color:var(--muted); font-size:12px; padding:10px 16px }

      /* About modal & button */
      .about-btn{
        position:absolute; top:14px; right:14px;
        padding:8px 12px; border-radius:12px;
        border:1px solid rgba(255,255,255,.15);
        background:linear-gradient(135deg, var(--accent), var(--accent-2));
        color:#061225; font-weight:600; cursor:pointer;
        box-shadow: 0 6px 16px rgba(0,0,0,.25);
      }
      .about-btn:focus{ outline:none; box-shadow:0 0 0 4px var(--ring) }
      .modal-backdrop{ position:fixed; inset:0; background:rgba(3,6,20,.65); display:flex; align-items:center; justify-content:center; z-index:50; }
      .modal-box{ width:min(560px, 92vw); background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.00)), var(--card);
        border:1px solid rgba(255,255,255,.12); border-radius:20px; box-shadow: var(--shadow); color:var(--text); }
      .modal-head{ display:flex; align-items:center; justify-content:space-between; padding:16px 18px; border-bottom:1px solid rgba(255,255,255,.08); }
      .modal-body{ padding:16px 18px; line-height:1.55; color:#dfe6f2 } .modal-body p{ margin: 0 0 10px }
      .modal-kvs{ display:grid; grid-template-columns: 140px 1fr; gap:8px 12px; font-size:14px; color:var(--muted) }
      .modal-actions{ padding:14px 18px; display:flex; justify-content:flex-end; gap:8px; border-top:1px solid rgba(255,255,255,.08) }
      .btn-ghost{ padding:9px 12px; border-radius:12px; background:transparent; color:var(--text); border:1px solid rgba(255,255,255,.16); cursor:pointer; }

      @media (max-width:600px){ .history{ height:58vh } .bubble{ max-width:92% } }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="card">
        <div class="header">
          <div class="logo">A</div>
          <div>
            <h1>Chatapx</h1>
            <div class="sub">AI Chatbot • Netlify Functions + OpenAI</div>
          </div>
        </div>

        <!-- React mounts here -->
        <div id="root"></div>

        <div class="footer-note">Built for assessment • © You</div>
        <!-- Button lives on top of the card -->
        
      </div>
    </div>

    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
<script>
  // Make Identity available to your app ASAP
  document.addEventListener('DOMContentLoaded', function () {
    if (window.netlifyIdentity && !window.netlifyIdentity._hasInit) {
      window.netlifyIdentity.init();
    }
  });
</script>

    <script type="module" src="/src/main.jsx"></script>
    <script>
  document.addEventListener('DOMContentLoaded', function () {
    const btn = document.getElementById('aboutBtn');
    if (btn) {
      btn.addEventListener('click', function () {
        window.dispatchEvent(new Event('open-about'));
      });
    }
  });
</script>

    
  </body>
</html>
